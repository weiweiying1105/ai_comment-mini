generator client {
  provider = "prisma-client-js"
  output   = "./src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Comment {
  id        Int      @id @default(autoincrement())
  content   String
  author    String?
  createdAt DateTime @default(now())
}

// 小程序用户模型
model User {
  id        String  @id @default(cuid())
  openId    String  @unique // 微信小程序 openId
  unionId   String? @unique // 微信 unionId (可选)
  nickName  String? // 用户昵称
  avatarUrl String? // 头像URL
  gender    Int? // 性别 0-未知 1-男 2-女
  city      String? // 城市
  province  String? // 省份
  country   String? // 国家
  language  String? // 语言

  // 用户设置
  currency String @default("CNY") // 默认货币
  timezone String @default("Asia/Shanghai") // 时区

  // 时间戳
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  lastLoginAt DateTime @default(now())

  @@map("users")
}
